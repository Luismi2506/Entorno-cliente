<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ejercicios – Tema 8 con Bootstrap 5</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .card + .card { margin-top: 1rem }
    </style>
</head>
<body class="bg-light">
    <div class="container py-4">
        
        <h1 class="mb-4">Ejercicios - Tema 8: Validación de formularios</h1>
        <p class="text-muted">Validación con JavaScript y validación HTML5 nativa donde corresponde.</p>

        <!-- ===================================================== -->
        <!-- EJERCICIO 1  -->
        <!-- ===================================================== -->
        <div class="card">
            <div class="card-header">Ejercicio 1 – JS básico</div>
            <div class="card-body">
                <form id="bs-form-ej1" class="row g-3" novalidate>
                    <div class="col-md-6">
                        <label class="form-label">Usuario</label>
                        <input class="form-control" type="text" name="usuario">
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Contraseña</label>
                        <input class="form-control" type="password" name="clave">
                    </div>

                    <div class="col-12">
                        <button class="btn btn-primary" type="submit">Enviar</button>
                    </div>
                </form>

                <div id="bs-msg-ej1" class="mt-2"></div>
            </div>
        </div>

        <!-- ===================================================== -->
        <!-- EJERCICIO 2  -->
        <!-- ===================================================== -->
        <div class="card">
            <div class="card-header">Ejercicio 2 – Validación HTML5 nativa</div>
            <div class="card-body">
                <form id="bs-form-ej2" class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">Email</label>
                        <input class="form-control" type="email" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">Edad</label>
                        <input class="form-control" type="number" min="18" max="120" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">Contraseña</label>
                        <input class="form-control" type="password" minlength="6" required>
                    </div>

                    <div class="col-12">
                        <button class="btn btn-success" type="submit">Enviar</button>
                    </div>
                </form>

                <div id="bs-msg-ej2" class="mt-2"></div>
            </div>
        </div>

        <!-- ===================================================== -->
        <!-- EJERCICIO 3 -->
        <!-- ===================================================== -->
        <div class="card">
            <div class="card-header">Ejercicio 3 – Validación con pattern</div>
            <div class="card-body">
                <form id="bs-form-ej3" class="row g-3">
                    <div class="col-12">
                        <label class="form-label">Nombre y apellidos</label>
                        <input 
                            class="form-control" 
                            type="text" 
                            required
                            pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\- ]+"
                            title="Solo letras (incluyendo acentos y ñ), espacios y guiones">
                    </div>

                    <div class="col-12">
                        <button class="btn btn-warning" type="submit">Enviar</button>
                    </div>
                </form>

                <div id="bs-msg-ej3" class="mt-2"></div>
            </div>
        </div>

        <!-- ===================================================== -->
        <!-- EJERCICIO 4 -->
        <!-- ===================================================== -->
        <div class="card">
            <div class="card-header">Ejercicio 4 – Coincidencia de contraseñas</div>
            <div class="card-body">
                <form id="bs-form-ej4" class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">Contraseña</label>
                        <input class="form-control" type="password" minlength="6" required id="c1">
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Repetir contraseña</label>
                        <input class="form-control" type="password" minlength="6" required id="c2">
                    </div>

                    <div class="col-12">
                        <button class="btn btn-danger" type="submit">Registrar</button>
                    </div>
                </form>

                <div id="bs-msg-ej4" class="mt-2"></div>
            </div>
        </div>

        <!-- ===================================================== -->
        <!-- EJERCICIO 5 -->
        <!-- ===================================================== -->
        <div class="card">
            <div class="card-header">Ejercicio 5 – Registro completo</div>
            <div class="card-body">
                <form id="bs-form-ej5" class="row g-3">

                    <div class="col-md-6">
                        <label class="form-label">Nombre y apellidos</label>
                        <input 
                            class="form-control"
                            type="text"
                            required
                            pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\- ]+"
                            title="Solo letras (incluyendo acentos y ñ), espacios y guiones"
                            name="nombre">
                    </div>

                    <div class="col-md-6">
                        <label class="form-label">Email</label>
                        <input class="form-control" type="email" name="email" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">Edad</label>
                        <input class="form-control" type="number" min="16" max="120" name="edad" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">Contraseña</label>
                        <input class="form-control" type="password" minlength="6" required id="r1" name="pass1">
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">Repetir contraseña</label>
                        <input class="form-control" type="password" minlength="6" required id="r2" name="pass2">
                    </div>

                    <div class="col-12">
                        <input type="checkbox" id="check" required>
                        <label for="check">Acepto los términos</label>
                    </div>

                    <div class="col-12">
                        <button class="btn btn-primary" type="submit">Enviar</button>
                    </div>
                </form>

                <div id="bs-msg-ej5" class="mt-3"></div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Scripts de validación -->
    <script>

    /* ============================
       EJERCICIO 1 
       ============================ */
    document.getElementById("bs-form-ej1").addEventListener("submit", function(e){
        e.preventDefault();

        const usuario = e.target.usuario.value.trim();
        const clave = e.target.clave.value.trim();
        const msg = document.getElementById("bs-msg-ej1");

        if(usuario === "" || clave === ""){
            msg.innerHTML = `<div class="alert alert-danger">Todos los campos son obligatorios.</div>`;
        } else {
            msg.innerHTML = `<div class="alert alert-success">Formulario enviado correctamente.</div>`;
        }
    });

    /* ============================
       EJERCICIO 2 
       ============================ */
    document.getElementById("bs-form-ej2").addEventListener("submit", function(e){
        e.preventDefault();

        if(e.target.checkValidity()){
            document.getElementById("bs-msg-ej2").innerHTML =
                `<div class="alert alert-success">Formulario válido. Datos enviados.</div>`;
        }
    });

    /* ============================
       EJERCICIO 3 
       ============================ */
    document.getElementById("bs-form-ej3").addEventListener("submit", function(e){
        e.preventDefault();

        if(e.target.checkValidity()){
            document.getElementById("bs-msg-ej3").innerHTML =
                `<div class="alert alert-success">Datos enviados correctamente.</div>`;
        }
    });

    /* ============================
       EJERCICIO 4 
       ============================ */
    document.getElementById("bs-form-ej4").addEventListener("submit", function(e){
        e.preventDefault();

        const c1 = document.getElementById("c1").value;
        const c2 = document.getElementById("c2").value;
        const msg = document.getElementById("bs-msg-ej4");

        if(c1 !== c2){
            msg.innerHTML = `<div class="alert alert-danger">Las contraseñas NO coinciden.</div>`;
        } else {
            msg.innerHTML = `<div class="alert alert-success">Registro completado.</div>`;
        }
    });

    /* ============================
       EJERCICIO 5 
       ============================ */
    document.getElementById("bs-form-ej5").addEventListener("submit", function(e){
        e.preventDefault();

        if(!e.target.checkValidity()){
            e.target.reportValidity();
            return;
        }

        const p1 = document.getElementById("r1").value;
        const p2 = document.getElementById("r2").value;

        if(p1 !== p2){
            document.getElementById("bs-msg-ej5").innerHTML =
                `<div class="alert alert-danger">Las contraseñas no coinciden.</div>`;
            return;
        }

        const datos = {
            nombre: e.target.nombre.value,
            email: e.target.email.value,
            edad: e.target.edad.value,
            acepta_terminos: document.getElementById("check").checked
        };

        document.getElementById("bs-msg-ej5").innerHTML =
            `<pre class="bg-dark text-light p-3 rounded">${JSON.stringify(datos, null, 2)}</pre>`;
    });

    </script>
</body>
</html>
